(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97919c90"],{"0d2d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r="3.8.9",o="aws-amplify/"+r,i={userAgent:o+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)switch(i.product=navigator.product||"",i.navigator=navigator||null,navigator.product){case"ReactNative":i.userAgent=o+" react-native",i.isReactNative=!0;break;default:i.userAgent=o+" js",i.isReactNative=!1;break}var a=function(){return i.userAgent}},"15b1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("9ab4"),o=function(){return function(e,t){return function(n){return Object(r["__awaiter"])(void 0,void 0,void 0,(function(){var o,i,a,s;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return o=t.logger,[4,e(n)];case 1:return i=r.sent(),o?(a=i.response,"function"===typeof o.info&&o.info({metadata:{statusCode:a.statusCode,requestId:null!==(s=a.headers["x-amzn-requestid"])&&void 0!==s?s:a.headers["x-amzn-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}}),[2,i]):[2,i]}}))}))}}},i={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize"},a=function(e){return{applyToStack:function(e){e.add(o(),i)}}}},1813:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("9ab4"),o=function(e,t){return function(n,o){return function(i){return Object(r["__awaiter"])(void 0,void 0,void 0,(function(){var a,s,u,c,d;return Object(r["__generator"])(this,(function(f){switch(f.label){case 0:return a=o.logger,s=o.outputFilterSensitiveLog,[4,n(i)];case 1:return u=f.sent().response,"function"===typeof(null===a||void 0===a?void 0:a.debug)&&a.debug({httpResponse:u}),[4,t(u,e)];case 2:return c=f.sent(),c.$metadata,d=Object(r["__rest"])(c,["$metadata"]),"function"===typeof(null===a||void 0===a?void 0:a.info)&&a.info({output:s(d)}),[2,{response:u,output:c}]}}))}))}}},i=function(e,t){return function(n,o){return function(i){return Object(r["__awaiter"])(void 0,void 0,void 0,(function(){var a,s,u;return Object(r["__generator"])(this,(function(c){switch(c.label){case 0:return a=o.logger,s=o.inputFilterSensitiveLog,"function"===typeof(null===a||void 0===a?void 0:a.info)&&a.info({input:s(i.input)}),[4,t(i.input,e)];case 1:return u=c.sent(),"function"===typeof(null===a||void 0===a?void 0:a.debug)&&a.debug({httpRequest:u}),[2,n(Object(r["__assign"])(Object(r["__assign"])({},i),{request:u}))]}}))}))}}},a={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"]},s={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"]};function u(e,t,n){return{applyToStack:function(r){r.add(o(e,n),a),r.add(i(e,t),s)}}}},1833:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"function"===typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}},"1ab9":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers},e}(),o=n("9ab4"),i=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t["query"]&&"object"===typeof t["headers"]},e.prototype.clone=function(){var t=new e(Object(o["__assign"])(Object(o["__assign"])({},this),{headers:Object(o["__assign"])({},this.headers)}));return t.query&&(t.query=a(t.query)),t},e}();function a(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return Object(o["__assign"])(Object(o["__assign"])({},t),(r={},r[n]=Array.isArray(i)?Object(o["__spread"])(i):i,r))}),{})}},"208d":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("7e87"),o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},i=new r["a"]("Amplify"),a=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Logger=r["a"],this.ServiceWorker=null}return e.prototype.register=function(e){i.debug("component registered in amplify",e),this._components.push(e),"function"===typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):i.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),i.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=o(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e["getCategory"]&&"function"===typeof e["getCategory"]&&this._components.map((function(t){t["addPluggable"]&&"function"===typeof t["addPluggable"]&&t.addPluggable(e)}))},e}(),s=new a},"29c5":function(e,t,n){"use strict";function r(e){if("string"===typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"===typeof e.byteLength?e.byteLength:"number"===typeof e.size?e.size:void 0}n.d(t,"a",(function(){return r}))},"3aad":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function o(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}e.exports=o},"434f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("9ab4"),o=function(e){var t;return Object(r["__assign"])(Object(r["__assign"])({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?i(e):function(){return a(e)},isCustomEndpoint:!!e.endpoint})},i=function(e){var t=e.endpoint,n=e.urlParser;if("string"===typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"===typeof t){var o=Promise.resolve(t);return function(){return o}}return t},a=function(e){return Object(r["__awaiter"])(void 0,void 0,void 0,(function(){var t,n,o,i,a,s;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(o=r.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(o))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(o)];case 2:if(a=(null!==(s=r.sent())&&void 0!==s?s:{}).hostname,!a)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+a)]}}))}))},s=function(e){if(!e.region)throw new Error("Region is missing");return Object(r["__assign"])(Object(r["__assign"])({},e),{region:u(e.region)})},u=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},"4c04":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,o)},o=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}},"57c2":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296===(64512&o)&&56320===(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)},o=function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a=[o,e[++n],e[++n],e[++n]],s="%"+a.map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t};function i(e){return(new TextEncoder).encode(e)}function a(e){return new TextDecoder("utf-8").decode(e)}var s=function(e){return"function"===typeof TextEncoder?i(e):r(e)},u=function(e){return"function"===typeof TextDecoder?a(e):o(e)}},"68bb":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return y}));var r=n("9ab4"),o=function(){var e=[],t=[],n=new Set,s=function(e){return e.sort((function(e,t){return i[t.step]-i[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"]}))},u=function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o},c=function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o},d=function(n){return e.forEach((function(e){n.add(e.middleware,Object(r["__assign"])({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Object(r["__assign"])({},e))})),n},f=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Object(r["__spread"])(f(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Object(r["__spread"])(f(e)))})),t},l=function(){var n=[],o=[],i={};e.forEach((function(e){var t=Object(r["__assign"])(Object(r["__assign"])({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)})),t.forEach((function(e){var t=Object(r["__assign"])(Object(r["__assign"])({},e),{before:[],after:[]});t.name&&(i[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a=s(n).map(f).reduce((function(e,t){return e.push.apply(e,Object(r["__spread"])(t)),e}),[]);return a.map((function(e){return e.middleware}))},h={add:function(t,o){void 0===o&&(o={});var i=o.name,a=Object(r["__assign"])({step:"initialize",priority:"normal",middleware:t},o);if(i){if(n.has(i))throw new Error("Duplicate middleware name '"+i+"'");n.add(i)}e.push(a)},addRelativeTo:function(e,o){var i=o.name,a=Object(r["__assign"])({middleware:e},o);if(i){if(n.has(i))throw new Error("Duplicated middleware name '"+i+"'");n.add(i)}t.push(a)},clone:function(){return d(o())},use:function(e){e.applyToStack(h)},remove:function(e){return"string"===typeof e?u(e):c(e)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=d(o());return t.use(e),t},applyToStack:d,resolve:function(e,t){var n,o;try{for(var i=Object(r["__values"])(l().reverse()),a=i.next();!a.done;a=i.next()){var s=a.value;e=s(e,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e}};return h},i={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1},s=function(){function e(e){this.middlewareStack=o(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!==typeof t?t:void 0,o="function"===typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),u=function(){function e(){this.middlewareStack=o()}return e}();function c(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var d=function(e){return Array.isArray(e)?e:[e]},f=function(e){var t="#text";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"===typeof e[n]&&null!==e[n]&&(e[n]=f(e[n]));return e},l=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Object(r["__spread"])([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};l.prototype=Object.create(String.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(l,String);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r["__extends"])(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"===typeof e?e:JSON.stringify(e))},t}(l),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function v(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),u=o<10?"0"+o:""+o,c=i<10?"0"+i:""+i,d=a<10?"0"+a:""+a,f=s<10?"0"+s:""+s;return p[r]+", "+u+" "+g[n]+" "+t+" "+c+":"+d+":"+f+" GMT"}var y="***SensitiveInformation***"},"69c1":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return C}));var r=n("9ab4"),o=function(e){return function(t){return function(n){return Object(r["__awaiter"])(void 0,void 0,void 0,(function(){return Object(r["__generator"])(this,(function(r){return[2,e.retryStrategy.retry(t,n)]}))}))}}},i={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high"},a=function(e){return{applyToStack:function(t){t.add(o(e),i)}}},s=n("1ab9"),u=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],c=["Throttling","ThrottlingException","ThrottledException","RequestThrottledException","TooManyRequestsException","ProvisionedThroughputExceededException","TransactionInProgressException","RequestLimitExceeded","BandwidthLimitExceeded","LimitExceededException","RequestThrottled","SlowDown","PriorRequestNotComplete","EC2ThrottledException"],d=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],f=[500,502,503,504],l=function(e){return void 0!==e.$retryable},h=function(e){return u.includes(e.name)},p=function(e){var t;return c.includes(e.name)||1==(null===(t=e.$retryable)||void 0===t?void 0:t.throttling)},g=function(e){var t;return d.includes(e.name)||f.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},v=n("e526"),y=100,m=2e4,b=500,w=500,_=5,S=10,j=1,O=function(e){var t=e,n=e,r=function(e){return"TimeoutError"===e.name?S:_},o=function(e){return r(e)<=n},i=function(e){if(!o(e))throw new Error("No retry token available");var t=r(e);return n-=t,t},a=function(e){n+=null!==e&&void 0!==e?e:j,n=Math.min(n,t)};return Object.freeze({hasRetryTokens:o,retrieveRetryTokens:i,releaseRetryTokens:a})},k=function(e,t){return Math.floor(Math.min(m,Math.random()*Math.pow(2,t)*e))},I=function(e){return!!e&&(l(e)||h(e)||p(e)||g(e))},E=3,x=function(){function e(e,t){var n,r,o;this.maxAttemptsProvider=e,this.retryDecider=null!==(n=null===t||void 0===t?void 0:t.retryDecider)&&void 0!==n?n:I,this.delayDecider=null!==(r=null===t||void 0===t?void 0:t.delayDecider)&&void 0!==r?r:k,this.retryQuota=null!==(o=null===t||void 0===t?void 0:t.retryQuota)&&void 0!==o?o:O(w)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var e;return Object(r["__generator"])(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=E,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var n,o,i,a,u,c,d,f;return Object(r["__generator"])(this,(function(l){switch(l.label){case 0:return o=0,i=0,[4,this.getMaxAttempts()];case 1:a=l.sent(),u=t.request,s["a"].isInstance(u)&&(u.headers["amz-sdk-invocation-id"]=Object(v["v4"])()),c=function(){var c,f,l,h,g;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),s["a"].isInstance(u)&&(u.headers["amz-sdk-request"]="attempt="+(o+1)+"; max="+a),[4,e(t)];case 1:return c=r.sent(),f=c.response,l=c.output,d.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:f,output:l}}];case 2:return h=r.sent(),o++,d.shouldRetry(h,o,a)?(n=d.retryQuota.retrieveRetryTokens(h),g=d.delayDecider(p(h)?b:y,o),i+=g,[4,new Promise((function(e){return setTimeout(e,g)}))]):[3,4];case 3:return r.sent(),[2,"continue"];case 4:throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=o,h.$metadata.totalRetryDelay=i,h;case 5:return[2]}}))},d=this,l.label=2;case 2:return[5,c()];case 3:return f=l.sent(),"object"===typeof f?[2,f.value]:[3,2];case 4:return[2]}}))}))},e}(),C=function(e){var t=A(e.maxAttempts);return Object(r["__assign"])(Object(r["__assign"])({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new x(t)})},A=function(e){if(void 0===e&&(e=E),"number"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},"69ee":function(e,t,n){var r,o,i=n("bada"),a=n("3aad"),s=0,u=0;function c(e,t,n){var c=t&&n||0,d=t||[];e=e||{};var f=e.node||r,l=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==l){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==l&&(l=o=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=p-s+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(l=l+1&16383),(v<0||p>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=g,o=l,p+=122192928e5;var y=(1e4*(268435455&p)+g)%4294967296;d[c++]=y>>>24&255,d[c++]=y>>>16&255,d[c++]=y>>>8&255,d[c++]=255&y;var m=p/4294967296*1e4&268435455;d[c++]=m>>>8&255,d[c++]=255&m,d[c++]=m>>>24&15|16,d[c++]=m>>>16&255,d[c++]=l>>>8|128,d[c++]=255&l;for(var b=0;b<6;++b)d[c+b]=f[b];return t||a(d)}e.exports=c},"6fc0":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(){throw new Error(e)}}},"735e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d979"),o=function(e){var t,n=new URL(e),o=n.hostname,i=n.pathname,a=n.port,s=n.protocol,u=n.search;return u&&(t=Object(r["a"])(u)),{hostname:o,port:a?parseInt(a):void 0,protocol:s,path:i,query:t}}},"74b2":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n("9ab4"),o=n("928f");function i(e){var t,n=this,i=e.credentials||e.credentialDefaultProvider(e),s=a(i),u=e.signingEscapePath,c=void 0===u||u,d=e.systemClockOffset,f=void 0===d?e.systemClockOffset||0:d,l=e.sha256;return t=e.signer?a(e.signer):function(){return a(e.region)().then((function(t){return Object(r["__awaiter"])(n,void 0,void 0,(function(){return Object(r["__generator"])(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=Object(r["__read"])(t,2),i=n[0],a=n[1],u=i.signingRegion,d=void 0===u?e.signingRegion:u,f=i.signingService,h=void 0===f?e.signingName:f;return e.signingRegion=e.signingRegion||d||a,e.signingName=e.signingName||h,new o["a"]({credentials:s,region:e.signingRegion,service:e.signingName,sha256:l,uriEscapePath:c})}))},Object(r["__assign"])(Object(r["__assign"])({},e),{systemClockOffset:f,signingEscapePath:c,credentials:s,signer:t})}function a(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var s=n("1ab9"),u=function(e,t){return Math.abs(c(t).getTime()-e)>=3e5},c=function(e){return new Date(Date.now()+e)};function d(e){return function(t,n){return function(o){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var i,a,c,d,f,l,h,p,g;return Object(r["__generator"])(this,(function(v){switch(v.label){case 0:return s["a"].isInstance(o.request)?"function"!==typeof e.signer?[3,2]:[4,e.signer()]:[2,t(o)];case 1:return a=v.sent(),[3,3];case 2:a=e.signer,v.label=3;case 3:return i=a,d=t,f=[Object(r["__assign"])({},o)],g={},[4,i.sign(o.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n["signing_region"],signingService:n["signing_service"]})];case 4:return[4,d.apply(void 0,[r["__assign"].apply(void 0,f.concat([(g.request=v.sent(),g)]))])];case 5:return c=v.sent(),l=c.response.headers,h=l&&(l.date||l.Date),h&&(p=Date.parse(h),u(p,e.systemClockOffset)&&(e.systemClockOffset=p-Date.now())),[2,c]}}))}))}}}var f={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware"},l=function(e){return{applyToStack:function(t){t.addRelativeTo(d(e),f)}}}},7585:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return j})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return d})),n.d(t,"t",(function(){return i})),n.d(t,"u",(function(){return s})),n.d(t,"v",(function(){return r}));var r="username",o="email",i="code",a="phone",s="password",u="country-dial-code-select",c="+1",d="amplify-auth-source",f="amplify-redirected-from-hosted-ui",l="amplify-authenticator-authState",h="Phone number can not be empty",p="No Auth module found, please ensure @aws-amplify/auth is imported",g="No Storage module found, please ensure @aws-amplify/storage is imported",v="No Interactions module found, please ensure @aws-amplify/interactions is imported",y="SETUP_TOTP",m="User has not set up software token mfa",b="User has not verified software token mfa",w="SUCCESS",_="auth",S="UI Auth",j="ToastAuthError",O="AuthStateChange"},"7e87":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},a=function(){function e(e,t){void 0===t&&(t="WARN"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.level;e.LOG_LEVEL&&(o=e.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(o=window.LOG_LEVEL);var a=i[o],s=i[t];if(s>=a){var u=console.log.bind(console);"ERROR"===t&&console.error&&(u=console.error.bind(console)),"WARN"===t&&console.warn&&(u=console.warn.bind(console));var c="["+t+"] "+this._ts()+" "+this.name;if(1===n.length&&"string"===typeof n[0])u(c+" - "+n[0]);else if(1===n.length)u(c,n[0]);else if("string"===typeof n[0]){var d=n.slice(1);1===d.length&&(d=d[0]),u(c+" - "+n[0],d)}else u(c,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["INFO"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["INFO"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["WARN"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["ERROR"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["DEBUG"],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,o(["VERBOSE"],e))},e.LOG_LEVEL=null,e}()},8696:function(e,t,n){"use strict";function r(e){return e}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));var o=n("9ab4"),i=n("1ab9");function a(e){return function(t){return function(n){var r=n.request;if(!i["a"].isInstance(r))return t(n);var a=r.headers,s="node"===e.runtime?"user-agent":"x-amz-user-agent";return a[s]?a[s]+=" "+e.defaultUserAgent:a[s]=""+e.defaultUserAgent,e.customUserAgent&&(a[s]+=" "+e.customUserAgent),t(Object(o["__assign"])(Object(o["__assign"])({},n),{request:r}))}}}var s={name:"getUserAgentMiddleware",step:"build",tags:["SET_USER_AGENT","USER_AGENT"]},u=function(e){return{applyToStack:function(t){t.add(a(e),s)}}}},"87a3":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n("9ab4"),o=n("1ab9");function i(e){return e}var a=function(e){return function(t){return function(n){return Object(r["__awaiter"])(void 0,void 0,void 0,(function(){var i,a,s;return Object(r["__generator"])(this,(function(r){return o["a"].isInstance(n.request)?(i=n.request,a=(e.requestHandler.metadata||{}).handlerProtocol,s=void 0===a?"":a,s.indexOf("h2")>=0&&!i.headers[":authority"]?(delete i.headers["host"],i.headers[":authority"]=""):i.headers["host"]||(i.headers["host"]=i.hostname),[2,t(n)]):[2,t(n)]}))}))}}},s={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"]},u=function(e){return{applyToStack:function(t){t.add(a(e),s)}}}},"928f":function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n("9ab4"),o="X-Amz-Algorithm",i="X-Amz-Credential",a="X-Amz-Date",s="X-Amz-SignedHeaders",u="X-Amz-Expires",c="X-Amz-Signature",d="X-Amz-Security-Token",f="authorization",l=a.toLowerCase(),h="date",p=[f,l,h],g=c.toLowerCase(),v="x-amz-content-sha256",y=d.toLowerCase(),m={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b=/^proxy-/,w=/^sec-/,_="AWS4-HMAC-SHA256",S="AWS4-HMAC-SHA256-PAYLOAD",j="UNSIGNED-PAYLOAD",O=50,k="aws4_request",I=604800,E={},x=[];function C(e,t,n){return e+"/"+t+"/"+n+"/"+k}function A(e,t,n,o,i){var a=n+":"+o+":"+i+":"+t.accessKeyId+":"+t.sessionToken;if(a in E)return E[a];x.push(a);while(x.length>O)delete E[x.shift()];return E[a]=new Promise((function(s,u){var c,d,f=Promise.resolve("AWS4"+t.secretAccessKey),l=function(t){f=f.then((function(n){return T(e,n,t)})),f.catch((function(){}))};try{for(var h=Object(r["__values"])([n,o,i,k]),p=h.next();!p.done;p=h.next()){var g=p.value;l(g)}}catch(v){c={error:v}}finally{try{p&&!p.done&&(d=h.return)&&d.call(h)}finally{if(c)throw c.error}}f.then(s,(function(e){delete E[a],u(e)}))}))}function T(e,t,n){var r=new e(t);return r.update(n),r.digest()}for(var P={},R={},L=0;L<256;L++){var z=L.toString(16).toLowerCase();1===z.length&&(z="0"+z),P[L]=z,R[z]=L}function N(e){for(var t="",n=0;n<e.byteLength;n++)t+=P[e[n]];return t}function D(e,t,n){var o,i,a=e.headers,s={};try{for(var u=Object(r["__values"])(Object.keys(a).sort()),c=u.next();!c.done;c=u.next()){var d=c.value,f=d.toLowerCase();(f in m||(null===t||void 0===t?void 0:t.has(f))||b.test(f)||w.test(f))&&(!n||n&&!n.has(f))||(s[f]=a[d].trim().replace(/\s+/g," "))}}catch(l){o={error:l}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return s}var q=n("4c04");function F(e){var t,n,o=e.query,i=void 0===o?{}:o,a=[],s={},u=function(e){if(e.toLowerCase()===g)return"continue";a.push(e);var t=i[e];"string"===typeof t?s[e]=Object(q["a"])(e)+"="+Object(q["a"])(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Object(q["a"])(e)+"="+Object(q["a"])(n)])}),[]).join("&"))};try{for(var c=Object(r["__values"])(Object.keys(i).sort()),d=c.next();!d.done;d=c.next()){var f=d.value;u(f)}}catch(l){t={error:l}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}var U=n("1833");function M(e,t){var n=e.headers,o=e.body;return Object(r["__awaiter"])(this,void 0,void 0,(function(){var e,i,a,s,u,c,d;return Object(r["__generator"])(this,(function(f){switch(f.label){case 0:try{for(e=Object(r["__values"])(Object.keys(n)),i=e.next();!i.done;i=e.next())if(a=i.value,a.toLowerCase()===v)return[2,n[a]]}catch(l){c={error:l}}finally{try{i&&!i.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return void 0!=o?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"===typeof o||ArrayBuffer.isView(o)||Object(U["a"])(o)?(s=new t,s.update(o),u=N,[4,s.digest()]):[3,3];case 2:return[2,u.apply(void 0,[f.sent()])];case 3:return[2,j]}}))}))}function $(e,t){var n,o;e=e.toLowerCase();try{for(var i=Object(r["__values"])(Object.keys(t)),a=i.next();!a.done;a=i.next()){var s=a.value;if(e===s.toLowerCase())return!0}}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return!1}function G(e){var t=e.headers,n=e.query,o=Object(r["__rest"])(e,["headers","query"]);return Object(r["__assign"])(Object(r["__assign"])({},o),{headers:Object(r["__assign"])({},t),query:n?H(n):void 0})}function H(e){return Object.keys(e).reduce((function(t,n){var o,i=e[n];return Object(r["__assign"])(Object(r["__assign"])({},t),(o={},o[n]=Array.isArray(i)?Object(r["__spread"])(i):i,o))}),{})}function K(e){var t,n,o="function"===typeof e.clone?e.clone():G(e),i=o.headers,a=o.query,s=void 0===a?{}:a;try{for(var u=Object(r["__values"])(Object.keys(i)),c=u.next();!c.done;c=u.next()){var d=c.value,f=d.toLowerCase();"x-amz-"===f.substr(0,6)&&(s[d]=i[d],delete i[d])}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return Object(r["__assign"])(Object(r["__assign"])({},e),{headers:i,query:s})}function B(e){var t,n;e="function"===typeof e.clone?e.clone():G(e);try{for(var o=Object(r["__values"])(Object.keys(e.headers)),i=o.next();!i.done;i=o.next()){var a=i.value;p.indexOf(a.toLowerCase())>-1&&delete e.headers[a]}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e}function W(e){return J(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function J(e){return"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}var V=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=Y(r),this.credentialProvider=Q(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(r["__awaiter"])(this,void 0,void 0,(function(){var n,f,l,h,p,g,v,y,m,b,w,S,j,O,k,E,x,A,T,P,R,L,z;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return n=t.signingDate,f=void 0===n?new Date:n,l=t.expiresIn,h=void 0===l?3600:l,p=t.unsignableHeaders,g=t.signableHeaders,v=t.signingRegion,y=t.signingService,[4,this.credentialProvider()];case 1:return m=r.sent(),null===v||void 0===v?[3,2]:(w=v,[3,4]);case 2:return[4,this.regionProvider()];case 3:w=r.sent(),r.label=4;case 4:return b=w,S=X(f),j=S.longDate,O=S.shortDate,h>I?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(k=C(O,b,null!==y&&void 0!==y?y:this.service),E=K(B(e)),m.sessionToken&&(E.query[d]=m.sessionToken),E.query[o]=_,E.query[i]=m.accessKeyId+"/"+k,E.query[a]=j,E.query[u]=h.toString(10),x=D(E,p,g),E.query[s]=Z(x),A=E.query,T=c,P=this.getSignature,R=[j,k,this.getSigningKey(m,b,O,y)],L=this.createCanonicalRequest,z=[E,x],[4,M(e,this.sha256)]);case 5:return[4,P.apply(this,R.concat([L.apply(this,z.concat([r.sent()]))]))];case 6:return A[T]=r.sent(),[2,E]}}))}))},e.prototype.sign=function(e,t){return Object(r["__awaiter"])(this,void 0,void 0,(function(){return Object(r["__generator"])(this,(function(n){return"string"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,o=e.payload,i=t.signingDate,a=void 0===i?new Date:i,s=t.priorSignature,u=t.signingRegion,c=t.signingService;return Object(r["__awaiter"])(this,void 0,void 0,(function(){var e,t,i,d,f,l,h,p,g,v,y;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return null===u||void 0===u?[3,1]:(t=u,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=r.sent(),r.label=3;case 3:return e=t,i=X(a),d=i.shortDate,f=i.longDate,l=C(d,e,null!==c&&void 0!==c?c:this.service),[4,M({headers:{},body:o},this.sha256)];case 4:return h=r.sent(),p=new this.sha256,p.update(n),v=N,[4,p.digest()];case 5:return g=v.apply(void 0,[r.sent()]),y=[S,f,l,s,g,h].join("\n"),[2,this.signString(y,{signingDate:a,signingRegion:e,signingService:c})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,i=void 0===o?new Date:o,a=n.signingRegion,s=n.signingService;return Object(r["__awaiter"])(this,void 0,void 0,(function(){var t,n,o,u,c,d,f,l;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return[4,this.credentialProvider()];case 1:return t=r.sent(),null===a||void 0===a?[3,2]:(o=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:o=r.sent(),r.label=4;case 4:return n=o,u=X(i).shortDate,f=(d=this.sha256).bind,[4,this.getSigningKey(t,n,u,s)];case 5:return c=new(f.apply(d,[void 0,r.sent()])),c.update(e),l=N,[4,c.digest()];case 6:return[2,l.apply(void 0,[r.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,i=void 0===o?new Date:o,a=n.signableHeaders,s=n.unsignableHeaders,u=n.signingRegion,c=n.signingService;return Object(r["__awaiter"])(this,void 0,void 0,(function(){var t,n,o,d,h,p,g,m,b,w,S;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return[4,this.credentialProvider()];case 1:return t=r.sent(),null===u||void 0===u?[3,2]:(o=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:o=r.sent(),r.label=4;case 4:return n=o,d=B(e),h=X(i),p=h.longDate,g=h.shortDate,m=C(g,n,null!==c&&void 0!==c?c:this.service),d.headers[l]=p,t.sessionToken&&(d.headers[y]=t.sessionToken),[4,M(d,this.sha256)];case 5:return b=r.sent(),!$(v,d.headers)&&this.applyChecksum&&(d.headers[v]=b),w=D(d,s,a),[4,this.getSignature(p,m,this.getSigningKey(t,n,g,c),this.createCanonicalRequest(d,w,b))];case 6:return S=r.sent(),d.headers[f]=_+" Credential="+t.accessKeyId+"/"+m+", SignedHeaders="+Z(w)+", Signature="+S,[2,d]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+F(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var o,i;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return o=new this.sha256,o.update(n),[4,o.digest()];case 1:return i=r.sent(),[2,_+"\n"+e+"\n"+t+"\n"+N(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;if(this.uriEscapePath){var n=encodeURIComponent(t.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return t},e.prototype.getSignature=function(e,t,n,o){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var i,a,s,u,c;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return[4,this.createStringToSign(e,t,o)];case 1:return i=r.sent(),u=(s=this.sha256).bind,[4,n];case 2:return a=new(u.apply(s,[void 0,r.sent()])),a.update(i),c=N,[4,a.digest()];case 3:return[2,c.apply(void 0,[r.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return A(this.sha256,e,n,t,r||this.service)},e}(),X=function(e){var t=W(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Z=function(e){return Object.keys(e).sort().join(";")},Y=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Q=function(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},9374:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={},o=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={},r},e}(),i=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=o}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},bada:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},c0ce:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("9ab4"),o=n("1ab9"),i="content-length";function a(e){var t=this;return function(n){return function(a){return Object(r["__awaiter"])(t,void 0,void 0,(function(){var t,s,u,c,d;return Object(r["__generator"])(this,(function(f){return t=a.request,o["a"].isInstance(t)&&(s=t.body,u=t.headers,s&&-1===Object.keys(u).map((function(e){return e.toLowerCase()})).indexOf(i)&&(c=e(s),void 0!==c&&(t.headers=Object(r["__assign"])(Object(r["__assign"])({},t.headers),(d={},d[i]=String(c),d))))),[2,n(Object(r["__assign"])(Object(r["__assign"])({},a),{request:t}))]}))}))}}}var s={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware"},u=function(e){return{applyToStack:function(t){t.add(a(e.bodyLengthChecker),s)}}}},c15e:function(e,t,n){"use strict";function r(e,t){var n="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"";return"aws-sdk-js-v3-"+e+"/"+t+" "+n}n.d(t,"a",(function(){return r}))},c51f:function(e,t,n){"use strict";n.d(t,"a",(function(){return On}));var r=n("7e87"),o=n("9374"),i=n("565a"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},f=new r["a"]("Util"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return a(t,e),t}(Error),h=function(e){var t="nonRetryable";return e&&e[t]};function p(e,t,n,r){return void 0===r&&(r=1),s(this,void 0,void 0,(function(){var o,i;return u(this,(function(a){switch(a.label){case 0:if("function"!==typeof e)throw Error("functionToRetry must be a function");f.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,d(t))];case 2:return[2,a.sent()];case 3:if(o=a.sent(),f.debug("error on "+e.name,o),h(o))throw f.debug(e.name+" non retryable error",o),o;return i=n(r,t,o),f.debug(e.name+" retrying in "+i+" ms"),!1===i?[3,6]:[4,new Promise((function(e){return setTimeout(e,i)}))];case 4:return a.sent(),[4,p(e,t,n,r+1)];case 5:return[2,a.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}}))}))}var g=3e5;function v(e){var t=100,n=100;return function(r){var o=Math.pow(2,r)*t+n*Math.random();return!(o>e)&&o}}var y=function(e,t,n){return void 0===n&&(n=g),p(e,t,v(n))},m=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},w=new r["a"]("CognitoCredentials"),_=new Promise((function(e,t){if(!Object(i["b"])().isBrowser)return w.debug("not in the browser, directly resolved"),e();var n=window["gapi"]&&window["gapi"].auth2?window["gapi"].auth2:null;if(n)return w.debug("google api already loaded"),e();setTimeout((function(){return e()}),2e3)})),S=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return m(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(w.debug("need to wait for the Google SDK loaded"),[4,_]);case 1:e.sent(),this.initialized=!0,w.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Object(i["b"])().isBrowser&&(e=window["gapi"]&&window["gapi"].auth2?window["gapi"].auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(w.debug("google Auth undefined"),n(new l("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(w.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new l("Failed to reload google auth response"))}))):n(new l("User is not signed in with Google"))})).catch((function(e){w.debug("Failed to refresh google token",e),n(new l("Failed to refresh google token"))}))})):(w.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),j=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},k=new r["a"]("CognitoCredentials"),I=new Promise((function(e,t){if(!Object(i["b"])().isBrowser)return k.debug("not in the browser, directly resolved"),e();var n=window["FB"];if(n)return k.debug("FB SDK already loaded"),e();setTimeout((function(){return e()}),2e3)})),E=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return j(this,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(k.debug("need to wait for the Facebook SDK loaded"),[4,I]);case 1:e.sent(),this.initialized=!0,k.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Object(i["b"])().isBrowser&&(e=window["FB"]),!e){var t="no fb sdk available";return k.debug(t),Promise.reject(new l(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=r.expiresIn,a=new Date,s=1e3*i+a.getTime();if(!o){u="the jwtToken is undefined";k.debug(u),n(new l(u))}t({token:o,expires_at:s})}else{var u="no response from facebook when refreshing the jwt token";k.debug(u),n(new l(u))}}),{scope:"public_profile,email"})}))},e}(),x=new S,C=new E,A=n("0d2d"),T=n("208d"),P=n("9ab4"),R=function(e,t){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},R(e,t)};function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},z.apply(this,arguments)};function N(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function D(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}Object.create;function q(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}var F,U,M,$,G,H,K,B,W,J,V,X,Z,Y,Q,ee,te,ne,re,oe,ie,ae,se,ue,ce,de,fe,le,he,pe,ge,ve,ye,me,be,we,_e,Se,je,Oe,ke,Ie,Ee,xe,Ce,Ae,Te,Pe,Re,Le,ze,Ne,De,qe,Fe,Ue,Me;Object.create;(function(e){e["AUTHENTICATED_ROLE"]="AuthenticatedRole",e["DENY"]="Deny"})(F||(F={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(V||(V={})),function(e){e["ACCESS_DENIED"]="AccessDenied",e["INTERNAL_SERVER_ERROR"]="InternalServerError"}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(fe||(fe={})),function(e){e["CONTAINS"]="Contains",e["EQUALS"]="Equals",e["NOT_EQUAL"]="NotEqual",e["STARTS_WITH"]="StartsWith"}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(pe||(pe={})),function(e){e["RULES"]="Rules",e["TOKEN"]="Token"}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return z({},e)}}(Me||(Me={}));var $e=n("1ab9"),Ge=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r;return D(this,(function(o){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(ot(e,t)),[2,St(t,n,"/",void 0,r)]}))}))},He=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r;return D(this,(function(o){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(it(e,t)),[2,St(t,n,"/",void 0,r)]}))}))},Ke=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,Be(e,t)]:[4,jt(e.body,t)];case 1:return n=i.sent(),r={},r=ct(n,t),o=z({$metadata:bt(e)},r),[2,Promise.resolve(o)]}}))}))},Be=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,d,f,l,h,p,g,v,y,m;return D(this,(function(b){switch(b.label){case 0:return r=[z({},e)],m={},[4,jt(e.body,t)];case 1:switch(n=z.apply(void 0,r.concat([(m.body=b.sent(),m)])),i="UnknownError",a=n.body["__type"].split("#"),i=void 0===a[1]?a[0]:a[1],s=i,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return u=[{}],[4,Ve(n,t)];case 3:return o=z.apply(void 0,[z.apply(void 0,u.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 4:return c=[{}],[4,Xe(n,t)];case 5:return o=z.apply(void 0,[z.apply(void 0,c.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 6:return d=[{}],[4,Ze(n,t)];case 7:return o=z.apply(void 0,[z.apply(void 0,d.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 8:return f=[{}],[4,Ye(n,t)];case 9:return o=z.apply(void 0,[z.apply(void 0,f.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 10:return l=[{}],[4,et(n,t)];case 11:return o=z.apply(void 0,[z.apply(void 0,l.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 12:return h=[{}],[4,tt(n,t)];case 13:return o=z.apply(void 0,[z.apply(void 0,h.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 14:return p=[{}],[4,nt(n,t)];case 15:return o=z.apply(void 0,[z.apply(void 0,p.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 16:return g=[{}],[4,rt(n,t)];case 17:return o=z.apply(void 0,[z.apply(void 0,g.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 18:v=n.body,i=v.code||v.Code||i,o=z(z({},v),{name:""+i,message:v.message||v.Message||i,$fault:"client",$metadata:bt(e)}),b.label=19;case 19:return y=o.message||o.Message||i,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},We=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,Je(e,t)]:[4,jt(e.body,t)];case 1:return n=i.sent(),r={},r=dt(n,t),o=z({$metadata:bt(e)},r),[2,Promise.resolve(o)]}}))}))},Je=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,d,f,l,h,p,g,v,y,m;return D(this,(function(b){switch(b.label){case 0:return r=[z({},e)],m={},[4,jt(e.body,t)];case 1:switch(n=z.apply(void 0,r.concat([(m.body=b.sent(),m)])),i="UnknownError",a=n.body["__type"].split("#"),i=void 0===a[1]?a[0]:a[1],s=i,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return u=[{}],[4,Ve(n,t)];case 3:return o=z.apply(void 0,[z.apply(void 0,u.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 4:return c=[{}],[4,Xe(n,t)];case 5:return o=z.apply(void 0,[z.apply(void 0,c.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 6:return d=[{}],[4,Ye(n,t)];case 7:return o=z.apply(void 0,[z.apply(void 0,d.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 8:return f=[{}],[4,Qe(n,t)];case 9:return o=z.apply(void 0,[z.apply(void 0,f.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 10:return l=[{}],[4,et(n,t)];case 11:return o=z.apply(void 0,[z.apply(void 0,l.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 12:return h=[{}],[4,tt(n,t)];case 13:return o=z.apply(void 0,[z.apply(void 0,h.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 14:return p=[{}],[4,nt(n,t)];case 15:return o=z.apply(void 0,[z.apply(void 0,p.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 16:return g=[{}],[4,rt(n,t)];case 17:return o=z.apply(void 0,[z.apply(void 0,g.concat([b.sent()])),{name:i,$metadata:bt(e)}]),[3,19];case 18:v=n.body,i=v.code||v.Code||i,o=z(z({},v),{name:""+i,message:v.message||v.Message||i,$fault:"client",$metadata:bt(e)}),b.label=19;case 19:return y=o.message||o.Message||i,o.message=y,delete o.Message,[2,Promise.reject(Object.assign(new Error(y),o))]}}))}))},Ve=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=ut(n,t),o=z({name:"ExternalServiceException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},Xe=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=ft(n,t),o=z({name:"InternalErrorException",$fault:"server",$metadata:bt(e)},r),[2,o]}))}))},Ze=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=lt(n,t),o=z({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},Ye=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=ht(n,t),o=z({name:"InvalidParameterException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},Qe=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=pt(n,t),o=z({name:"LimitExceededException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},et=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=gt(n,t),o=z({name:"NotAuthorizedException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},tt=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=vt(n,t),o=z({name:"ResourceConflictException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},nt=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=yt(n,t),o=z({name:"ResourceNotFoundException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},rt=function(e,t){return N(void 0,void 0,void 0,(function(){var n,r,o;return D(this,(function(i){return n=e.body,r=mt(n,t),o=z({name:"TooManyRequestsException",$fault:"client",$metadata:bt(e)},r),[2,o]}))}))},ot=function(e,t){return z(z(z({},void 0!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&{Logins:at(e.Logins,t)})},it=function(e,t){return z(z(z({},void 0!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&{Logins:at(e.Logins,t)})},at=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=q(t,2),o=r[0],i=r[1];return z(z({},e),(n={},n[o]=i,n))}),{})},st=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},ut=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ct=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?st(e.Credentials,t):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},dt=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},ft=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},lt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ht=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},pt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},gt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},vt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},yt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},mt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},bt=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},wt=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},_t=function(e,t){return wt(e,t).then((function(e){return t.utf8Encoder(e)}))},St=function(e,t,n,r,o){return N(void 0,void 0,void 0,(function(){var i,a,s,u,c,d;return D(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return i=f.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,d={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(d.hostname=r),void 0!==o&&(d.body=o),[2,new $e["a"](d)]}}))}))},jt=function(e,t){return _t(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ot=n("1813"),kt=n("68bb"),It=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return L(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(Ot["a"])(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o=t.logger,i="CognitoIdentityClient",a="GetCredentialsForIdentityCommand",s={logger:o,clientName:i,commandName:a,inputFilterSensitiveLog:ie.filterSensitiveLog,outputFilterSensitiveLog:se.filterSensitiveLog};"function"===typeof o.info&&o.info({clientName:i,commandName:a});var u=t.requestHandler;return r.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return Ge(e,t)},t.prototype.deserialize=function(e,t){return Ke(e,t)},t}(kt["b"]),Et=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return Object(P["__extends"])(t,e),t}(Error);function xt(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"===typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=Object(P["__read"])(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}))}function Ct(e){var t=this;return function(){return Object(P["__awaiter"])(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,d,f,l,h;return Object(P["__generator"])(this,(function(p){switch(p.label){case 0:return d=(c=e.client).send,f=It.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,xt(e.logins)]:[3,2];case 1:return l=p.sent(),[3,3];case 2:l=void 0,p.label=3;case 3:return[4,d.apply(c,[new(f.apply(It,[void 0,(h.Logins=l,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?Tt():t,r=n.AccessKeyId,o=void 0===r?At():r,i=n.Expiration,a=n.SecretKey,s=void 0===a?Pt():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:s,sessionToken:u,expiration:i}]}}))}))}}function At(){throw new Et("Response from Amazon Cognito contained no access key ID")}function Tt(){throw new Et("Response from Amazon Cognito contained no credentials")}function Pt(){throw new Et("Response from Amazon Cognito contained no secret key")}var Rt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return L(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(Ot["a"])(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o=t.logger,i="CognitoIdentityClient",a="GetIdCommand",s={logger:o,clientName:i,commandName:a,inputFilterSensitiveLog:ce.filterSensitiveLog,outputFilterSensitiveLog:de.filterSensitiveLog};"function"===typeof o.info&&o.info({clientName:i,commandName:a});var u=t.requestHandler;return r.resolve((function(e){return u.handle(e.request,n||{})}),s)},t.prototype.serialize=function(e,t){return He(e,t)},t.prototype.deserialize=function(e,t){return We(e,t)},t}(kt["b"]),Lt="IdentityIds",zt=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Lt,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Lt,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Lt)))})).catch((function(e){throw n.close(),e}))}))},e}(),Nt=function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}(),Dt=new Nt;function qt(){return"object"===typeof self&&self.indexedDB?new zt:"object"===typeof window&&window.localStorage?window.localStorage:Dt}function Ft(e){var t=this,n=e.accountId,r=e.cache,o=void 0===r?qt():r,i=e.client,a=e.customRoleArn,s=e.identityPoolId,u=e.logins,c=e.userIdentifier,d=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=d?"aws:cognito-identity-credentials:"+s+":"+d:void 0,l=function(){return Object(P["__awaiter"])(t,void 0,void 0,(function(){var e,t,r,c,d,h,p,g,v;return Object(P["__generator"])(this,(function(y){switch(y.label){case 0:return t=f,t?[4,o.getItem(f)]:[3,2];case 1:t=y.sent(),y.label=2;case 2:return e=t,e?[3,7]:(h=(d=i).send,p=Rt.bind,v={AccountId:n,IdentityPoolId:s},u?[4,xt(u)]:[3,4]);case 3:return g=y.sent(),[3,5];case 4:g=void 0,y.label=5;case 5:return[4,h.apply(d,[new(p.apply(Rt,[void 0,(v.Logins=g,v)]))])];case 6:r=y.sent().IdentityId,c=void 0===r?Ut():r,e=c,f&&Promise.resolve(o.setItem(f,e)).catch((function(){})),y.label=7;case 7:return l=Ct({client:i,customRoleArn:a,logins:u,identityId:e}),[2,l()]}}))}))};return function(){return l().catch((function(e){return Object(P["__awaiter"])(t,void 0,void 0,(function(){return Object(P["__generator"])(this,(function(t){throw f&&Promise.resolve(o.removeItem(f)).catch((function(){})),e}))}))}))}}function Ut(){throw new Et("Response from Amazon Cognito contained no identity ID")}var Mt=n("d802"),$t=n("be23"),Gt=n("c6fe"),Ht=n("6fc0"),Kt=n("69c1"),Bt=n("735e"),Wt=n("f03e"),Jt=n("29c5"),Vt=n("c15e"),Xt=n("57c2"),Zt="cognito-identity.{region}.amazonaws.com",Yt="cognito-identity.{region}.amazonaws.com.cn",Qt="cognito-identity.{region}.c2s.ic.gov",en="cognito-identity.{region}.sc2s.sgov.gov",tn="cognito-identity.{region}.amazonaws.com",nn=new Set(["ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),rn=new Set(["cn-north-1","cn-northwest-1"]),on=new Set(["us-iso-east-1"]),an=new Set(["us-isob-east-1"]),sn=new Set(["us-gov-east-1","us-gov-west-1"]),un=function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:nn.has(e)&&(n={hostname:Zt.replace("{region}",e),partition:"aws"}),rn.has(e)&&(n={hostname:Yt.replace("{region}",e),partition:"aws-cn"}),on.has(e)&&(n={hostname:Qt.replace("{region}",e),partition:"aws-iso"}),an.has(e)&&(n={hostname:en.replace("{region}",e),partition:"aws-iso-b"}),sn.has(e)&&(n={hostname:tn.replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Zt.replace("{region}",e),partition:"aws"})}return Promise.resolve(n)},cn={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:un,signingName:"cognito-identity"},dn=z(z({},cn),{runtime:"browser",base64Decoder:Wt["a"],base64Encoder:Wt["b"],bodyLengthChecker:Jt["a"],credentialDefaultProvider:function(){},defaultUserAgent:Object(Vt["a"])(Mt.name,Mt.version),maxAttempts:Kt["a"],region:Object(Ht["a"])("Region is missing"),requestHandler:new Gt["a"],sha256:$t["Sha256"],streamCollector:Gt["b"],urlParser:Bt["a"],utf8Decoder:Xt["a"],utf8Encoder:Xt["b"]}),fn=n("434f"),ln=n("c0ce"),hn=n("87a3"),pn=n("15b1"),gn=n("74b2"),vn=n("8696"),yn=function(e){function t(t){var n=this,r=z(z({},dn),t),o=Object(fn["b"])(r),i=Object(fn["a"])(o),a=Object(gn["b"])(i),s=Object(Kt["c"])(a),u=Object(vn["b"])(s),c=Object(hn["b"])(u);return n=e.call(this,c)||this,n.config=c,n.middlewareStack.use(Object(Kt["b"])(n.config)),n.middlewareStack.use(Object(vn["a"])(n.config)),n.middlewareStack.use(Object(ln["a"])(n.config)),n.middlewareStack.use(Object(hn["a"])(n.config)),n.middlewareStack.use(Object(pn["a"])(n.config)),n}return L(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(kt["a"]),mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mn.apply(this,arguments)},bn=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},wn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},_n=new r["a"]("Credentials"),Sn=3e6,jn=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers["google"]=x.refreshGoogleToken,this._refreshHandlers["facebook"]=C.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=mn(mn({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new o["a"]).getStorage()),this._storageSync=Promise.resolve(),"function"===typeof this._storage["sync"]&&(this._storageSync=this._storage["sync"]()),this._config},e.prototype.get=function(){return _n.debug("getting credentials"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return _n.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?_n.debug("getting old cred promise"):(_n.debug("getting new cred promise"),this._gettingCredPromise=Object(i["e"])(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return bn(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s;return wn(this,(function(u){switch(u.label){case 0:if(_n.debug("checking if credentials exists and not expired"),e=this._credentials,e&&!this._isExpired(e)&&!this._isPastTTL())return _n.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(_n.debug("need to get a new credential or refresh the existing one"),t=this.Auth,n=void 0===t?T["a"].Auth:t,!n||"function"!==typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];_n.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=u.sent(),[4,n.currentSession()];case 3:return o=u.sent(),i=o.refreshToken,a=new Promise((function(e,t){r.refreshSession(i,(function(n,r){return n?t(n):e(r)}))})),[4,a];case 4:return u.sent(),[3,6];case 5:return s=u.sent(),_n.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){_n.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var a=this;return _n.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(_n.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):a._refreshHandlers[t]&&"function"===typeof a._refreshHandlers[t]?(_n.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(_n.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user,i=1e4;return y(n,[],i).then((function(e){return _n.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){var n="string"===typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length);return n||t.clear(),_n.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return _n.debug("no credentials for expiration check"),!0;_n.debug("are these credentials expired?",e);var t=Date.now(),n=e.expiration;return n.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return bn(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,d=this;return wn(this,(function(f){switch(f.label){case 0:if(_n.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,r=e.mandatorySignIn,r)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return _n.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!n)return _n.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];o=void 0,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._storageSync];case 2:return f.sent(),o=this._storage.getItem("CognitoIdentityId-"+t),this._identityId=o,[3,4];case 3:return i=f.sent(),_n.debug("Failed to get the cached identityId",i),[3,4];case 4:return a=new yn({region:n,customUserAgent:Object(A["b"])()}),s=void 0,o?(u={identityId:o,client:a},s=Ct(u)()):(c=function(){return bn(d,void 0,void 0,(function(){var e,n,r;return wn(this,(function(o){switch(o.label){case 0:return[4,a.send(new Rt({IdentityPoolId:t}))];case 1:return e=o.sent().IdentityId,this._identityId=e,n={client:a,identityId:e},r=Ct(n),[2,r()]}}))}))},s=c().catch((function(e){return bn(d,void 0,void 0,(function(){return wn(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return bn(d,void 0,void 0,(function(){var n,r=this;return wn(this,(function(i){return"ResourceNotFoundException"===e.name&&e.message==="Identity '"+o+"' not found."?(_n.debug("Failed to load guest credentials"),this._storage.removeItem("CognitoIdentityId-"+t),n=function(){return bn(r,void 0,void 0,(function(){var e,n,r;return wn(this,(function(o){switch(o.label){case 0:return[4,a.send(new Rt({IdentityPoolId:t}))];case 1:return e=o.sent().IdentityId,this._identityId=e,n={client:a,identityId:e},r=Ct(n),[2,r()]}}))}))},s=n().catch((function(e){return bn(r,void 0,void 0,(function(){return wn(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)]):[2,e]}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},i=o[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var a={};a[i]=n;var s=this._config,u=s.identityPoolId,c=s.region;if(!u)return _n.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c)return _n.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var d=new yn({region:c,customUserAgent:Object(A["b"])()}),f=void 0;if(r){var l={identityId:r,logins:a,client:d};f=Ct(l)()}else{l={logins:a,identityPoolId:u,client:d};f=Ft(l)()}return this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;_n.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,i=r.userPoolId,a=r.identityPoolId;if(!a)return _n.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return _n.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s="cognito-idp."+o+".amazonaws.com/"+i,u={};u[s]=n;var c=new yn({region:o,customUserAgent:Object(A["b"])()}),d=function(){return bn(t,void 0,void 0,(function(){var e,t,n;return wn(this,(function(r){switch(r.label){case 0:return[4,c.send(new Rt({IdentityPoolId:a,Logins:u}))];case 1:return e=r.sent().IdentityId,this._identityId=e,t={client:c,logins:u,identityId:e},n=Ct(t),[2,n()]}}))}))},f=d().catch((function(e){return bn(t,void 0,void 0,(function(){return wn(this,(function(t){throw e}))}))}));return this._loadCredentials(f,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,i=this,a=this._config.identityPoolId;return new Promise((function(s,u){e.then((function(e){return bn(o,void 0,void 0,(function(){var o,u,c,d,f,l;return wn(this,(function(h){switch(h.label){case 0:if(_n.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e["identityId"]=this._identityId),i._credentials=e,i._credentials.authenticated=n,i._credentials_source=t,i._nextCredentialsRefresh=(new Date).getTime()+Sn,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),u=r.provider,c=r.token,d=r.expires_at,f=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:u,token:c,user:o,expires_at:d,identity_id:f}))}catch(p){_n.debug("Failed to put federated info into auth storage",p)}}if("guest"!==t)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this._storageSync];case 2:return h.sent(),this._storage.setItem("CognitoIdentityId-"+a,e.identityId),[3,4];case 3:return l=h.sent(),_n.debug("Failed to cache identityId",l),[3,4];case 4:return s(i._credentials),[2]}}))}))})).catch((function(t){if(t)return _n.debug("Failed to load credentials",e),_n.debug("Error loading credentials",t),void u(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(_n.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return bn(this,void 0,void 0,(function(){return wn(this,(function(e){return this._credentials=null,this._credentials_source=null,_n.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),On=new jn(null);T["a"].register(On)},c6fe:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("9ab4"),o=n("1ab9"),i=n("ded1");function a(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}var s=function(){function e(e){void 0===e&&(e={}),this.httpOptions=e}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=null===t||void 0===t?void 0:t.abortSignal,s=this.httpOptions.requestTimeout;if(null===n||void 0===n?void 0:n.aborted){var u=new Error("Request aborted");return u.name="AbortError",Promise.reject(u)}var c=e.path;if(e.query){var d=Object(i["a"])(e.query);d&&(c+="?"+d)}var f=e.port,l=e.protocol+"//"+e.hostname+(f?":"+f:"")+c,h={body:e.body,headers:new Headers(e.headers),method:e.method};"undefined"!==typeof AbortController&&(h["signal"]=n);var p=new Request(l,h),g=[fetch(p).then((function(e){var t,n,i=e.headers,a={};try{for(var s=Object(r["__values"])(i.entries()),u=s.next();!u.done;u=s.next()){var c=u.value;a[c[0]]=c[1]}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var d=void 0!==e.body;return d?{response:new o["b"]({headers:a,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new o["b"]({headers:a,statusCode:e.status,body:t})}}))})),a(s)];return n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(g)},e}(),u=n("f03e"),c=function(e){return"function"===typeof Blob&&e instanceof Blob?d(e):f(e)};function d(e){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var t,n;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:return[4,l(e)];case 1:return t=r.sent(),n=Object(u["a"])(t),[2,new Uint8Array(n)]}}))}))}function f(e){return Object(r["__awaiter"])(this,void 0,void 0,(function(){var t,n,o,i,a,s,u;return Object(r["__generator"])(this,(function(r){switch(r.label){case 0:t=new Uint8Array(0),n=e.getReader(),o=!1,r.label=1;case 1:return o?[3,3]:[4,n.read()];case 2:return i=r.sent(),a=i.done,s=i.value,s&&(u=t,t=new Uint8Array(u.length+s.length),t.set(u),t.set(s,u.length)),o=a,[3,1];case 3:return[2,t]}}))}))}function l(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}},ca47:function(e,t,n){var r=n("bada"),o=n("3aad");function i(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}e.exports=i},d802:function(e){e.exports=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"1.0.0-rc.4","scripts":{"clean":"npm run remove-definitions && npm run remove-dist","build-documentation":"npm run clean && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"1.0.0-rc.3","@aws-sdk/credential-provider-node":"1.0.0-rc.3","@aws-sdk/fetch-http-handler":"1.0.0-rc.3","@aws-sdk/hash-node":"1.0.0-rc.3","@aws-sdk/invalid-dependency":"1.0.0-rc.3","@aws-sdk/middleware-content-length":"1.0.0-rc.3","@aws-sdk/middleware-host-header":"1.0.0-rc.3","@aws-sdk/middleware-logger":"1.0.0-rc.4","@aws-sdk/middleware-retry":"1.0.0-rc.4","@aws-sdk/middleware-serde":"1.0.0-rc.3","@aws-sdk/middleware-signing":"1.0.0-rc.3","@aws-sdk/middleware-stack":"1.0.0-rc.4","@aws-sdk/middleware-user-agent":"1.0.0-rc.3","@aws-sdk/node-config-provider":"1.0.0-rc.3","@aws-sdk/node-http-handler":"1.0.0-rc.3","@aws-sdk/protocol-http":"1.0.0-rc.3","@aws-sdk/smithy-client":"1.0.0-rc.4","@aws-sdk/types":"1.0.0-rc.3","@aws-sdk/url-parser-browser":"1.0.0-rc.3","@aws-sdk/url-parser-node":"1.0.0-rc.3","@aws-sdk/util-base64-browser":"1.0.0-rc.3","@aws-sdk/util-base64-node":"1.0.0-rc.3","@aws-sdk/util-body-length-browser":"1.0.0-rc.3","@aws-sdk/util-body-length-node":"1.0.0-rc.3","@aws-sdk/util-user-agent-browser":"1.0.0-rc.3","@aws-sdk/util-user-agent-node":"1.0.0-rc.3","@aws-sdk/util-utf8-browser":"1.0.0-rc.3","@aws-sdk/util-utf8-node":"1.0.0-rc.3","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"1.0.0-rc.3","@aws-sdk/client-iam":"1.0.0-rc.4","@types/chai":"^4.2.11","@types/mocha":"^7.0.2","@types/node":"^12.7.5","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.17.8","typescript":"~4.0.2"},"engines":{"node":">=10.0.0"},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/master/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}')},d979:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4");function o(e){var t,n,o={};if(e=e.replace(/^\?/,""),e)try{for(var i=Object(r["__values"])(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value,u=Object(r["__read"])(s.split("="),2),c=u[0],d=u[1],f=void 0===d?null:d;c=decodeURIComponent(c),f&&(f=decodeURIComponent(f)),c in o?Array.isArray(o[c])?o[c].push(f):o[c]=[o[c],f]:o[c]=f}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}},ded1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("9ab4"),o=n("4c04");function i(e){var t,n,i=[];try{for(var a=Object(r["__values"])(Object.keys(e).sort()),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];if(u=Object(o["a"])(u),Array.isArray(c))for(var d=0,f=c.length;d<f;d++)i.push(u+"="+Object(o["a"])(c[d]));else{var l=u;(c||"string"===typeof c)&&(l+="="+Object(o["a"])(c)),i.push(l)}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i.join("&")}},e526:function(e,t,n){var r=n("69ee"),o=n("ca47"),i=o;i.v1=r,i.v4=o,e.exports=i},f03e:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));for(var r={},o=new Array(64),i=0,a="A".charCodeAt(0),s="Z".charCodeAt(0);i+a<=s;i++){var u=String.fromCharCode(i+a);r[u]=i,o[i]=u}for(i=0,a="a".charCodeAt(0),s="z".charCodeAt(0);i+a<=s;i++){u=String.fromCharCode(i+a);var c=i+26;r[u]=c,o[c]=u}for(i=0;i<10;i++){r[i.toString(10)]=i+52;u=i.toString(10),c=i+52;r[u]=c,o[c]=u}r["+"]=62,o[62]="+",r["/"]=63,o[63]="/";var d=6,f=8,l=63;function h(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),o=new DataView(n),i=0;i<e.length;i+=4){for(var a=0,s=0,u=i,c=i+3;u<=c;u++)"="!==e[u]?(a|=r[e[u]]<<(c-u)*d,s+=d):a>>=d;var l=i/4*3;a>>=s%f;for(var h=Math.floor(s/f),p=0;p<h;p++){var g=(h-p-1)*f;o.setUint8(l+p,(a&255<<g)>>g)}}return new Uint8Array(n)}function p(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,a=n,s=Math.min(n+3,e.length);a<s;a++)r|=e[a]<<(s-a-1)*f,i+=f;var u=Math.ceil(i/d);r<<=u*d-i;for(var c=1;c<=u;c++){var h=(u-c)*d;t+=o[(r&l<<h)>>h]}t+="==".slice(0,4-u)}return t}}}]);
//# sourceMappingURL=chunk-97919c90.e8a5da24.js.map